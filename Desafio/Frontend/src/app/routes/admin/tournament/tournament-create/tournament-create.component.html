<h1 class="h3 mb-2 text-gray-800 mb-4">Torneio</h1>

<!-- DataTales Example -->
<div class="card shadow mb-4">
  <div class="card-header py-3">
    <h6 class="m-0 font-weight-bold text-primary">{{titleActionPage}}</h6>
  </div>
  <div class="card-body">
    <form [formGroup]="formTournamentCreate" class="needs-validation was-validated">
      <div class="row">
        <div class="col-4">
          <div class="form-group">
            <label for="exampleInputEmail1">Nome</label>
            <input formControlName="name" required type="name" class="form-control" id="exampleInputEmail1">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group">
            <label for="exampleInputEmail1">Data e Hora de início</label>
            <input formControlName="date"  required type="datetime-local" class="form-control" id="exampleInputEmail1">
          </div>
        </div>
        <div class="col-4">
          <div class="form-group">
            <label for="exampleInputEmail1">Quantidade de Equipes Permitidas</label>
            <input formControlName="maxNumberTeams" required type="number" min="4" step="4" class="form-control" id="exampleInputEmail1">
          </div>
        </div>

        <div class="col-4">
          <label for="exampleInputEmail1">Elos Permitidos</label>
          <ng-select formControlName="allowedElos" [multiple]="true">
            <ng-option *ngFor="let elo of elos" [value]="elo.id">{{elo.name}}</ng-option>
          </ng-select>

        </div>
        <div class="col-1 mt-4 pt-2 mx-0 px-0">
          <a (click)="openModalEloCreate()" class="btn btn-primary btn-icon-split">
            <span class="text"><i class="fas fa-plus"></i></span>
          </a>
        </div>

        <div class="col-12 text-right">
          <a routerLink="/admin/tournament"  class="btn btn-secondary btn-icon-split mr-3">
            <span class="icon text-white-50">
              <i class="fas fa-undo"></i>
            </span>
            <span class="text">Cancelar</span>
          </a>
          <button (click)="saveTournament()" [disabled]="!formTournamentCreate.valid" class="btn btn-primary btn-icon-split">
            <span class="icon text-white-50">
              <i class="fas fa-check"></i>
            </span>
            <span class="text">Salvar</span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>


<ng-template #modalEloCreate>
  <form [formGroup]="formEloCreate">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Cadastrar Elo</h4>
        <button type="button" class="close" (click)="closeModal(modalEloCreateRef)" aria-hidden="true">×</button>
      </div>

      <div class="modal-body">
        <div class="col-md-12">
          <div class="form-group">
            <label for="eloname">Nome</label>
            <input type="text" class="form-control" id="eloname" formControlName="name" required>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="closeModal(modalEloCreateRef)">Fechar</button>
        <button type="button" class="btn btn-primary" [disabled]="!formEloCreate.valid"
          (click)="saveElo()">Salvar</button>
      </div>
    </div>
  </form>
  <!-- /.modal-content -->
</ng-template>